# DXDisk：云存储与实时聊天应用

**DXDisk** 是一款基于 C++和 Qt 开发的跨平台桌面应用，提供云存储和实时聊天功能。它采用客户端-服务器架构，支持用户安全地管理文件、与好友分享内容以及通过私聊或群聊进行实时通信。应用集成了 MySQL 数据库，用于用户和数据管理，确保高效性和可扩展性。

## 功能特性

- **用户认证**：支持用户名和密码的注册与登录，数据安全存储在 MySQL 数据库中。
- **文件管理**：
  - 上传、下载、删除、重命名和移动文件/文件夹。
  - 创建和浏览目录。
  - 支持向指定好友分享文件，实时通知接收方。
- **实时聊天**：
  - 与好友进行私聊。
  - 支持群聊，向所有在线用户广播消息。
  - 未读消息提醒功能。
- **好友管理**：
  - 按用户名前缀搜索用户。
  - 添加/删除好友，支持请求和审批流程。
  - 实时显示好友的在线/离线状态。
- **文件传输监控**：
  - 上传/下载进度跟踪，显示速度和状态。
  - 支持大文件传输，包含错误处理机制。
- **跨平台界面**：基于 Qt 的直观 GUI，支持 Windows、macOS 和 Linux。
- **可扩展性**：高效的 TCP/IP 通信和模块化设计，便于未来功能扩展。

## 技术栈

- **编程语言**：C++（C++17）
- **框架**：Qt 5/6（GUI 和网络模块）
- **数据库**：MySQL（用户和好友数据管理）
- **网络**：TCP/IP（`QTcpSocket`和`QTcpServer`）
- **工具**：Qt Creator、MySQL Workbench、Git
- **其他**：智能指针（`std::shared_ptr`）、面向对象编程、多线程、SQL

## 系统架构

DXDisk 采用客户端-服务器架构：

- **服务器**（`TCPServer`）：
  - 使用`QTcpServer`处理多客户端连接。
  - 管理用户会话、文件操作和消息转发。
  - 通过 MySQL 数据库存储用户凭据、好友关系和在线状态。
  - 使用自定义协议（`PDU`）进行结构化数据交换。
- **客户端**（`TCPClient`）：
  - 使用`QTcpSocket`与服务器通信。
  - 提供基于 Qt 的 GUI，包含文件管理、聊天和好友交互界面。
  - 支持文件上传/下载（带进度跟踪）和实时聊天更新。
- **数据库**：
  - MySQL 包含`usrInfo`和`friendInfo`表，存储用户和好友关系数据。
  - 优化 SQL 查询以提升数据操作效率。
- **协议**：
  - 自定义`PDU`（协议数据单元）结构，定义消息类型（如`REGIST_REQUEST`、`SENDMSG_REQUEST`）。
  - 支持变长消息，固定头部确保传输可靠性。

## 安装指南

### 前置条件

- **Qt**：5.15 或更高版本（包含 Network 和 SQL 模块）
- **MySQL**：8.0 或更高版本
- **编译器**：GCC、MSVC 或 Clang（支持 C++17）
- **Git**：用于克隆仓库
- **MySQL Connector**：用于 Qt SQL 集成
  需要注意讲数据库链接成你本地的数据库文件
